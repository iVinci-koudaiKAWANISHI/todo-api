# ToDo API 仕様書

## 概要

ユーザーが ToDo タスクを **作成・取得・更新・削除** するための API。

---

## 技術スタック

- **言語**：Python 3.11.3  
- **フレームワーク**：Django  
- **データ形式**：JSON  
- **データベース**：SQLite  
- **テスト**：Django Test Framework  

---

## エンドポイント一覧

### 1. 一覧取得

- **メソッド**：GET  
- **URL**：`/api/todos/`  
- **レスポンス例**（200 OK）：

```json
[
  {
    "id": 1,
    "task": "〇〇を買う",
    "completed": false
  },
  {
    "id": 2,
    "task": "〇〇を提出する",
    "completed": true
  }
]

```

## 2. タスク作成

- **メソッド**：POST  
- **エンドポイント**：`/api/todos/`  

### リクエストボディ例

```json
{
    "task": "〇〇を掃除する",
    "completed": false
}
```

### レスポンス例（201 Created）

```json
{
  "id": 3,
  "task": "〇〇を掃除する",
  "completed": false
}
```

### エラーレスポンス例（400 Bad Request）

```json
{
  "task": ["このフィールドは必須です。"]
}
```

## 3. タスク取得

- **メソッド**：GET
- **エンドポイント**：`/api/todos/<id>`

### レスポンス例（200 OK）

```json
{
  "id": 1,
  "task": "〇〇を買う",
  "completed": false
}
```

### エラーレスポンス例（404 Not Found）

```json
{
  "detail": "Not found."
}
```

## 4. タスク更新

- **メソッド**：PUT
- **エンドポイント**：`/api/todos/<id>`

### リクエストボディ例

```json
{
    "task": "〇〇と〇〇を買う",
    "completed": true
}
```

### レスポンス例（200 OK）

```json
{
  "id": 1,
  "task": "〇〇と〇〇を買う",
  "completed": true
}
```

### エラーレスポンス例（400 Bad Request）

```json
{
  "completed": ["true または false を指定してください。"]
}
```

## 5. タスク削除

- **メソッド**：DELETE
- **エンドポイント**：`/api/todos/<id>`

### レスポンス（204 No Content）

- 成功時はレスポンスボディなし

### エラーレスポンス例（404 Not Found）

```json
{
  "detail": "Not found."
}
```

## バリデーション仕様

### フィールド：`task`

- **必須**：はい（`required`）  
- **型**：文字列（`string`）  
- **最大長**：255文字  
- **空文字不可**：空白のみの文字列もエラー扱い

#### エラーレスポンス例

```json
{
  "task": ["このフィールドは必須です。"]
}
```

### フィールド：`completed`

- **必須**：はい（`required`）  
- **型**：真偽値（`boolean`）  
- **許容値**：**ture**または**false**  

#### エラーレスポンス例

```json
{
  "completed": ["true または false を指定してください。"]
}
```
